@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');

/* ========================================
   MOBILE-FIRST DESIGN SYSTEM
   ======================================== */

/* Base reset for mobile-first approach */
*,
*::before,
*::after {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* Prevent text size adjustment on orientation change */
html {
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Mobile-optimized body defaults */
body {
  /* Prevent elastic scrolling on iOS */
  position: fixed;
  width: 100%;
  height: 100%;
  overflow: hidden;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

/* Main content wrapper for proper scrolling */
#root {
  height: 100%;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: contain;
}

/* Custom scrollbar - optimized for mobile */
@media (hover: hover) {
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/30 rounded-md;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
  }
}

/* Mobile scrollbar - thinner and auto-hide */
@media (hover: none) {
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/20;
  }
}

/* Touch-optimized focus styles */
.focus-visible:focus {
  @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
}

/* Mobile-first focus styles - larger touch targets */
@media (hover: none) {
  .focus-visible:focus {
    @apply ring-4 ring-offset-4;
  }
}

/* Smooth transitions with performance optimization */
* {
  @apply transition-colors duration-200;
  /* Optimize for mobile GPUs */
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Mobile-first responsive container */
.container {
  @apply mx-auto px-4;
  width: 100%;
  max-width: 100%;
}

@media (min-width: 640px) {
  .container {
    @apply px-6;
    max-width: 640px;
  }
}

@media (min-width: 768px) {
  .container {
    @apply px-8;
    max-width: 768px;
  }
}

@media (min-width: 1024px) {
  .container {
    max-width: 1024px;
  }
}

@media (min-width: 1280px) {
  .container {
    max-width: 1280px;
  }
}

/* Touch-friendly minimum sizes */
button,
a,
[role='button'],
[role='link'],
input,
textarea,
select {
  min-height: 44px;
  min-width: 44px;
}

/* Improved touch targets for small elements */
.touch-target-sm {
  position: relative;
}

.touch-target-sm::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  min-width: 44px;
  min-height: 44px;
}

/* Animation utilities with reduced motion support */
@media (prefers-reduced-motion: no-preference) {
  .animate-in {
    animation: animateIn 0.3s ease-out;
  }

  @keyframes animateIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Mobile-optimized animations - shorter duration */
  @media (hover: none) {
    .animate-in {
      animation-duration: 0.2s;
    }
  }
}

/* Collapsible animations with mobile optimization */
@media (prefers-reduced-motion: no-preference) {
  @keyframes collapsible-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-collapsible-content-height);
    }
  }

  @keyframes collapsible-up {
    from {
      height: var(--radix-collapsible-content-height);
    }
    to {
      height: 0;
    }
  }

  [data-radix-collapsible-content] {
    overflow: hidden;
  }

  [data-radix-collapsible-content][data-state='open'] {
    animation: collapsible-down 0.2s ease-out;
  }

  [data-radix-collapsible-content][data-state='closed'] {
    animation: collapsible-up 0.2s ease-out;
  }
}

/* Safe area support for notched devices */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

.safe-area-x {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.safe-area-y {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

/* Performance optimizations */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Prevent layout shift on mobile */
img,
video,
iframe {
  max-width: 100%;
  height: auto;
  aspect-ratio: attr(width) / attr(height);
}

/* Touch gesture hints */
.swipeable {
  cursor: grab;
  user-select: none;
}

.swipeable:active {
  cursor: grabbing;
}

/* Mobile-first utility classes */
.mobile-only {
  @apply block sm:hidden;
}

.desktop-only {
  @apply hidden sm:block;
}

.touch-only {
  @media (hover: hover) {
    display: none !important;
  }
}

.hover-only {
  @media (hover: none) {
    display: none !important;
  }
}
